:root {
  --max-width: 780px;
  --app-header-height: 64px;
  --app-tabbar-height: 82px;

  --safe-area-top: max(env(safe-area-inset-top, 0px), var(--tg-safe-area-inset-top, 0px));
  --safe-area-right: max(env(safe-area-inset-right, 0px), var(--tg-safe-area-inset-right, 0px));
  --safe-area-bottom: max(env(safe-area-inset-bottom, 0px), var(--tg-safe-area-inset-bottom, 0px));
  --safe-area-left: max(env(safe-area-inset-left, 0px), var(--tg-safe-area-inset-left, 0px));
}

:root[data-app-theme="dark"] {
  --color-bg: #000000;
  --color-surface: #1c1c1e;
  --color-text: #f2f2f7;
  --color-muted: #d1d1d6;
  --color-subtle: #8e8e93;
  --color-link: #0a84ff;
  --color-accent: #5ac8fa;
  --color-button-bg: #0a84ff;
  --color-button-text: #ffffff;
  --color-danger: #ff453a;
  --color-divider: #3a3a3c;
}

:root[data-app-theme="light"] {
  --color-bg: #f2f2f7;
  --color-surface: #ffffff;
  --color-text: #1c1c1e;
  --color-muted: #3a3a3c;
  --color-subtle: #8e8e93;
  --color-link: #007aff;
  --color-accent: #007aff;
  --color-button-bg: #007aff;
  --color-button-text: #ffffff;
  --color-danger: #ff3b30;
  --color-divider: #d1d1d6;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-app-theme]) {
    --color-bg: #000000;
    --color-surface: #1c1c1e;
    --color-text: #f2f2f7;
    --color-muted: #d1d1d6;
    --color-subtle: #8e8e93;
    --color-link: #0a84ff;
    --color-accent: #5ac8fa;
    --color-button-bg: #0a84ff;
    --color-button-text: #ffffff;
    --color-danger: #ff453a;
    --color-divider: #3a3a3c;
  }
}

@media (prefers-color-scheme: light) {
  :root:not([data-app-theme]) {
    --color-bg: #f2f2f7;
    --color-surface: #ffffff;
    --color-text: #1c1c1e;
    --color-muted: #3a3a3c;
    --color-subtle: #8e8e93;
    --color-link: #007aff;
    --color-accent: #007aff;
    --color-button-bg: #007aff;
    --color-button-text: #ffffff;
    --color-danger: #ff3b30;
    --color-divider: #d1d1d6;
  }
}

:root {
  --tg-bg: var(--color-bg);
  --tg-text: var(--color-text);
  --tg-hint: var(--color-subtle);
  --tg-link: var(--color-link);
  --tg-btn: var(--color-button-bg);
  --tg-btn-text: var(--color-button-text);
  --tg-secondary-bg: var(--color-surface);
  --tg-header-bg: var(--color-bg);
  --tg-bottom-bar-bg: var(--color-bg);
  --tg-section-bg: var(--color-surface);
  --tg-section-header-text: var(--color-text);
  --tg-subtitle-text: var(--color-subtle);
  --tg-destructive-text: var(--color-danger);
  --tg-section-separator: var(--color-divider);
  --tg-accent: var(--color-accent);

  --surface: var(--tg-bg);
  --card-bg: var(--tg-section-bg);
  --card-border: transparent;
  --tag-bg: transparent;
  --tag-border: transparent;
  --muted-text: var(--color-muted);
  --subtle-text: var(--color-subtle);
  --section-heading-text: var(--tg-section-header-text);
}
